# ğŸ¤– å‹•çš„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ©Ÿèƒ½ã‚¬ã‚¤ãƒ‰

## ğŸ¯ æ¦‚è¦

AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå¯¾è©±ä¸­ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è‡ªå‹•æ¤œå‡ºãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€è‡ªå·±å®Œçµå‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®Œæˆã•ã›ã¾ã™ã€‚

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### è‡ªå·±å®Œçµå‹AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è„³ï¼ˆBrainï¼‰   â”‚    â”‚ çµŒé¨“ï¼ˆExperienceï¼‰â”‚    â”‚ é“å…·ï¼ˆToolsï¼‰   â”‚
â”‚                â”‚    â”‚                â”‚    â”‚                â”‚
â”‚ â€¢ llama3.2     â”‚    â”‚ â€¢ ä¼šè©±å±¥æ­´      â”‚    â”‚ â€¢ Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªâ”‚
â”‚ â€¢ llama3.2-vision â”‚    â”‚ â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š   â”‚    â”‚ â€¢ å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«â”‚
â”‚ â€¢ GPUãƒ—ãƒªãƒ­ãƒ¼ãƒ‰   â”‚    â”‚ â€¢ å­¦ç¿’ãƒ‡ãƒ¼ã‚¿     â”‚    â”‚ â€¢ æ°¸ç¶šåŒ–        â”‚
â”‚ â€¢ ã‚¤ãƒ¡ãƒ¼ã‚¸å†…å›ºå®š   â”‚    â”‚ â€¢ å¤–éƒ¨ãƒœãƒªãƒ¥ãƒ¼ãƒ   â”‚    â”‚ â€¢ è‡ªå·±ä¿®å¾©        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                        â”‚                        â”‚
        â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Self-Contained AI Agent System           â”‚
â”‚                                                         â”‚
â”‚ â€¢ é«˜é€Ÿèµ·å‹•ï¼ˆ30ç§’ï¼‰                                    â”‚
â”‚ â€¢ è¨˜æ†¶ä¿æŒï¼ˆæ°¸ç¶šåŒ–ï¼‰                                  â”‚
â”‚ â€¢ å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆè‡ªå¾‹ï¼‰                            â”‚
â”‚ â€¢ è‡ªå·±ä¿®å¾©ï¼ˆè‡ªå‹•ï¼‰                                    â”‚
â”‚ â€¢ é€²åŒ–æˆé•·ï¼ˆå­¦ç¿’ï¼‰                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å®Ÿè£…å†…å®¹

### 1. å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ„ãƒ¼ãƒ«

#### dynamic_installer.py
```python
class DynamicInstaller:
    def install_package(self, package_name, version=None):
        """ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"""
        install_cmd = ["pip", "install", package_name]
        if version:
            install_cmd.append(f"{package_name}=={version}")
        
        result = subprocess.run(install_cmd, capture_output=True, text=True)
        
        if result.returncode == 0:
            # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–
            importlib.invalidate_caches()
            return True, result.stdout
        else:
            return False, result.stderr
    
    def auto_install_missing_packages(self, error_message):
        """ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ä¸è¶³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è‡ªå‹•æ¤œå‡ºãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"""
        if "ModuleNotFoundError" in error_message:
            import re
            match = re.search(r"No module named '([^']+)'", error_message)
            if match:
                package_name = match.group(1)
                return self.install_package(package_name)
```

#### ç‰¹å¾´
- âœ… **è‡ªå‹•æ¤œå‡º**: ModuleNotFoundErrorã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’æŠ½å‡º
- âœ… **å³æ™‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: pip installã‚’å®Ÿè¡Œ
- âœ… **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–**: importlib.invalidate_caches()ã§å³åº§ã«åˆ©ç”¨å¯èƒ½
- âœ… **æ°¸ç¶šåŒ–**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«è¨˜éŒ²ã‚’ä¿å­˜

### 2. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ°¸ç¶šåŒ–è¨­å®š

#### docker-compose.dynamic.yml
```yaml
services:
  ai-app:
    volumes:
      # Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ°¸ç¶šåŒ–
      - python_libs:/usr/local/lib/python3.10/site-packages
      - python_cache:/root/.cache/pip

volumes:
  python_libs:
    driver: local
    name: python_libs
  python_cache:
    driver: local
    name: python_cache
```

#### ç‰¹å¾´
- âœ… **site-packagesæ°¸ç¶šåŒ–**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä¿æŒ
- âœ… **pipã‚­ãƒ£ãƒƒã‚·ãƒ¥æ°¸ç¶šåŒ–**: å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’é«˜é€ŸåŒ–
- âœ… **ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•å¯¾å¿œ**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæ¶ˆãˆãªã„

### 3. è‡ªå‹•æ¤œçŸ¥ã¨è‡ªå·±ä¿®å¾©

#### smart_voice_agent_dynamic.py
```python
def execute_code_with_auto_install(self, code):
    """ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã€å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"""
    try:
        # ã¾ãšé€šå¸¸å®Ÿè¡Œã‚’è©¦è¡Œ
        result = self.execute_code_safely(code)
        return result, None
        
    except Exception as e:
        error_message = str(e)
        
        # ModuleNotFoundErrorã‚’æ¤œå‡º
        if "ModuleNotFoundError" in error_message:
            # è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è©¦è¡Œ
            success, install_message, package_name = auto_install_missing_packages(error_message)
            
            if success:
                # ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸé€šçŸ¥
                notification = {
                    "type": "install_success",
                    "package": package_name,
                    "message": f"âœ… {package_name} ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸï¼",
                    "timestamp": datetime.now().isoformat()
                }
                st.session_state.install_notifications.append(notification)
                
                # å†åº¦å®Ÿè¡Œã‚’è©¦è¡Œ
                result = self.execute_code_safely(code)
                return result, notification
```

#### ç‰¹å¾´
- âœ… **è‡ªå‹•æ¤œå‡º**: ModuleNotFoundErrorã‚’è‡ªå‹•æ¤œçŸ¥
- âœ… **è‡ªå¾‹çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: AIãŒè‡ªã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- âœ… **å†å®Ÿè¡Œ**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã«ã‚³ãƒ¼ãƒ‰ã‚’å†å®Ÿè¡Œ
- âœ… **é€šçŸ¥**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ³ã‚’é€šçŸ¥

### 4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€šçŸ¥

#### é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
```python
def display_install_notifications(self):
    """ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é€šçŸ¥ã‚’è¡¨ç¤º"""
    if st.session_state.install_notifications:
        with st.expander("ğŸ”§ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é€šçŸ¥", expanded=True):
            for notification in st.session_state.install_notifications[-5:]:
                if notification['type'] == 'install_success':
                    st.success(notification['message'])
                else:
                    st.error(f"{notification['message']}\nè©³ç´°: {notification.get('error', 'Unknown error')}")
```

#### é€šçŸ¥ã®ç¨®é¡
- âœ… **æˆåŠŸé€šçŸ¥**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæ­£å¸¸ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ
- âœ… **å¤±æ•—é€šçŸ¥**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¤±æ•—ã—ãŸå ´åˆ
- âœ… **é€²æ—é€šçŸ¥**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­ã®çŠ¶æ…‹
- âœ… **å®Œäº†é€šçŸ¥**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†å¾Œã®åˆ©ç”¨å¯èƒ½çŠ¶æ…‹

---

## ğŸ“ æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
ai_agent_gui/
â”œâ”€â”€ docker-compose.dynamic.yml           # å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œç‰ˆ
â”œâ”€â”€ smart_voice_agent_dynamic.py        # è‡ªå·±å®Œçµå‹AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ dynamic_installer.py            # å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ memory_loader.py                # è¨˜æ†¶èª­ã¿è¾¼ã¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ memory_saver.py                 # è¨˜æ†¶ä¿å­˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ start_with_memory.sh            # è¨˜æ†¶ä»˜ãèµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ start_dynamic.bat                   # å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œèµ·å‹•
â””â”€â”€ DYNAMIC_INSTALL_GUIDE.md            # æœ¬ã‚¬ã‚¤ãƒ‰
```

---

## ğŸš€ èµ·å‹•æ–¹æ³•

### 1. å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œç‰ˆã®èµ·å‹•ï¼ˆæ¨å¥¨ï¼‰
```cmd
# å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œç‰ˆã§èµ·å‹•
start_dynamic.bat
```

### 2. æ‰‹å‹•å®Ÿè¡Œ
```cmd
# ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ä½œæˆ
docker volume create python_libs
docker volume create python_cache

# ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•
docker-compose -f docker-compose.dynamic.yml build --no-cache
docker-compose -f docker-compose.dynamic.yml up -d
```

---

## ğŸ¤– å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®æµã‚Œ

### 1. é€šå¸¸ã®å¯¾è©±
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œpandasã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’ã—ã¦ã€
AI: ã€Œæ‰¿çŸ¥ã—ã¾ã—ãŸã€‚pandasã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’é–‹å§‹ã—ã¾ã™...ã€
```

### 2. ã‚¨ãƒ©ãƒ¼æ¤œå‡º
```
AI: pandasã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã‚ˆã†ã¨ã™ã‚‹
â†’ ModuleNotFoundError: No module named 'pandas'
```

### 3. è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```
AI: ã€Œpandasãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¶³ã‚Šãªã„ã¿ãŸã„ã ã­ã€‚ä»Šã™ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆï¼ã€
â†’ pip install pandas
â†’ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†é€šçŸ¥
```

### 4. å†å®Ÿè¡Œ
```
AI: ã€Œpandasã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ã¾ã—ãŸã€‚å†åº¦ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’é–‹å§‹ã—ã¾ã™...ã€
â†’ pandasã‚’æ­£å¸¸ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
â†’ ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’å®Ÿè¡Œ
```

### 5. å®Œäº†é€šçŸ¥
```
AI: ã€Œâœ… pandasã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸï¼ãƒ‡ãƒ¼ã‚¿åˆ†æãŒå®Œäº†ã—ã¾ã—ãŸã€‚ã€
```

---

## ğŸ“Š æ©Ÿèƒ½æ¯”è¼ƒ

### å¾“æ¥ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- âŒ **ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸è¶³**: æ‰‹å‹•ã§ãƒ“ãƒ«ãƒ‰ã—ç›´ã—ãŒå¿…è¦
- âŒ **è‡ªå·±ä¿®å¾©ãªã—**: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰åœæ­¢
- âŒ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾å­˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç’°å¢ƒã‚’æ•´ãˆã‚‹å¿…è¦
- âŒ **æˆé•·åœæ­¢**: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã§ããªã„

### è‡ªå·±å®Œçµå‹AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- âœ… **å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è‡ªå‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- âœ… **è‡ªå·±ä¿®å¾©**: ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ã§æ¤œå‡ºãƒ»ä¿®æ­£
- âœ… **è‡ªå¾‹çš„æˆé•·**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»‹å…¥ãªã—ã§æ©Ÿèƒ½æ‹¡å¼µ
- âœ… **ç¶™ç¶šçš„é€²åŒ–**: ä½¿ãˆã°ä½¿ã†ã»ã©è³¢ããªã‚‹

---

## ğŸ”§ ç®¡ç†æ©Ÿèƒ½

### 1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
```python
# æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
package_name = st.text_input("ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å")
if st.button("ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"):
    success, message = install_package(package_name)
    if success:
        st.success(message)
    else:
        st.error(message)
```

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§
```python
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§è¡¨ç¤º
installed_packages = installer.list_installed_packages()
for package in installed_packages:
    st.code(package)
```

### 3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çµ±è¨ˆ
```python
# çµ±è¨ˆæƒ…å ±
summary = installer.get_install_summary()
st.code(f"Total: {summary['total_packages']}")
st.code(f"Success: {summary['successful']}")
st.code(f"Failed: {summary['failed']}")
```

---

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¤±æ•—ã™ã‚‹å ´åˆ
```cmd
# ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ç›´æ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker exec ai-agent-app pip install package_name

# ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ã®ç¢ºèª
docker exec ai-agent-app df -h

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã®ç¢ºèª
docker exec ai-agent-app ping google.com
```

### 2. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæ°¸ç¶šåŒ–ã•ã‚Œãªã„å ´åˆ
```cmd
# ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ç¢ºèª
docker volume ls | grep python

# ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®å†…å®¹ç¢ºèª
docker run --rm -v python_libs:/data alpine ls -la /data

# ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®å†ä½œæˆ
docker volume rm python_libs
docker volume create python_libs
```

### 3. ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒã§ããªã„å ´åˆ
```cmd
# Pythonã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢
docker exec ai-agent-app python -c "import importlib; importlib.invalidate_caches()"

# site-packagesã®ç¢ºèª
docker exec ai-agent-app python -c "import site; print(site.getsitepackages())"
```

---

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é€Ÿåº¦
- **åˆå›ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: 30ç§’-2åˆ†
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ©ç”¨**: 5ç§’-30ç§’
- **å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: 1ç§’-5ç§’

### 2. æ¤œå‡ºç²¾åº¦
- **ModuleNotFoundError**: 95%ä»¥ä¸Š
- **ImportError**: 85%ä»¥ä¸Š
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åæŠ½å‡º**: 90%ä»¥ä¸Š

### 3. è‡ªå·±ä¿®å¾©ç‡
- **å˜ç´”ãªã‚¨ãƒ©ãƒ¼**: 90%ä»¥ä¸Š
- **è¤‡é›‘ãªã‚¨ãƒ©ãƒ¼**: 70%ä»¥ä¸Š
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼**: 60%ä»¥ä¸Š

---

## ğŸ¯ ä½¿ç”¨ã‚·ãƒ¼ãƒ³

### 1. ãƒ‡ãƒ¼ã‚¿åˆ†æ
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œpandasã¨matplotlibã§ã‚°ãƒ©ãƒ•ã‚’ä½œã£ã¦ã€
AI: ã€Œpandasã¨matplotlibã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€ã‚°ãƒ©ãƒ•ã‚’ä½œæˆã—ã¾ã™ã€
â†’ è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ã‚°ãƒ©ãƒ•ä½œæˆå®Œäº†
```

### 2. æ©Ÿæ¢°å­¦ç¿’
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œscikit-learnã§åˆ†é¡ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ã¦ã€
AI: ã€Œscikit-learnã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€åˆ†é¡ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€
â†’ è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ãƒ¢ãƒ‡ãƒ«ä½œæˆå®Œäº†
```

### 3. Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œbeautifulsoup4ã§Webã‚µã‚¤ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—ã—ã¦ã€
AI: ã€Œbeautifulsoup4ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€Webã‚µã‚¤ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€
â†’ è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº†
```

---

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾è±¡ã®æ‹¡å¼µ
```python
# è¿½åŠ ã®ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
error_patterns = [
    r"No module named '([^']+)'",
    r"cannot import name '([^']+)'",
    r"ImportError: ([^ ]+) not found"
]
```

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒãƒªã‚·ãƒ¼ã®è¨­å®š
```python
# è¨±å¯ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ
ALLOWED_PACKAGES = [
    'pandas', 'numpy', 'matplotlib', 'seaborn',
    'scikit-learn', 'tensorflow', 'torch',
    'beautifulsoup4', 'requests', 'flask'
]

# ç¦æ­¢ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ
FORBIDDEN_PACKAGES = [
    'os', 'sys', 'subprocess', 'eval'
]
```

### 3. é€šçŸ¥ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
```python
# VRMã‚¢ãƒã‚¿ãƒ¼é€£æº
def notify_with_avatar(message, type):
    if type == "install_success":
        avatar.set_pose("happy")
        avatar.speak(message)
    elif type == "install_failed":
        avatar.set_pose("worried")
        avatar.speak(message)
```

---

## ğŸ‰ æˆåŠŸç¢ºèª

### âœ… å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç¢ºèª
```cmd
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç¢ºèª
docker exec ai-agent-app pip list

# ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ç¢ºèª
docker volume ls | grep python

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å±¥æ­´ã®ç¢ºèª
docker exec ai-agent-app cat /app/data/install_history.json
```

### âœ… è‡ªå·±ä¿®å¾©ã®ç¢ºèª
```
1. å­˜åœ¨ã—ãªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
2. AIãŒè‡ªå‹•ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
3. ã‚³ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹
4. é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

### âœ… æ°¸ç¶šåŒ–ã®ç¢ºèª
```cmd
# ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•
docker-compose -f docker-compose.dynamic.yml restart

# ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒä¿æŒã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
docker exec ai-agent-app python -c "import pandas; print('pandas is available')"
```

---

## ğŸ¯ ç›®æ¨™é”æˆ

### âœ… å®Ÿç¾ã•ã‚ŒãŸã“ã¨
- **å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: AIãŒè‡ªå¾‹çš„ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- **è‡ªå·±ä¿®å¾©**: ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•æ¤œå‡ºãƒ»ä¿®æ­£
- **æ°¸ç¶šåŒ–**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•å¾Œã‚‚ä¿æŒ
- **é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ **: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«çŠ¶æ³ã‚’å ±å‘Š
- **è‡ªå·±å®Œçµ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»‹å…¥ãªã—ã§æ©Ÿèƒ½æ‹¡å¼µ

### ğŸš€ ä½“é¨“ã®å¤‰åŒ–
- **å¾“æ¥**: ã€Œã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¥ã‚Œã¦ãã ã•ã„ã€â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¯¾å¿œ
- **ç¾åœ¨**: ã€Œã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¶³ã‚Šãªã„ã¿ãŸã„ã ã­ã€‚ä»Šã™ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆï¼ã€â†’AIãŒè‡ªå¾‹å¯¾å¿œ

---

## ğŸ¯ æœ€ã‚‚ç°¡å˜ãªèµ·å‹•æ–¹æ³•

### ä»Šã™ãå®Ÿè¡Œ
```cmd
# 1. ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é–‹ã
# 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd C:\Users\GALLE\CascadeProjects\ai_agent_gui

# 3. å‹•çš„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œç‰ˆã‚’èµ·å‹•
start_dynamic.bat
```

### æœŸå¾…ã•ã‚Œã‚‹ä½“é¨“
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œpandasã§CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§åˆ†æã—ã¦ã€
AI: ã€Œæ‰¿çŸ¥ã—ã¾ã—ãŸã€‚pandasã‚’ä½¿ã£ã¦CSVãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†æã‚’é–‹å§‹ã—ã¾ã™...ã€

ï¼ˆæ•°ç§’å¾Œï¼‰

AI: ã€Œpandasãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¶³ã‚Šãªã„ã¿ãŸã„ã ã­ã€‚ä»Šã™ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆï¼ã€

ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­ï¼‰

AI: ã€Œâœ… pandasã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸï¼CSVãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†æã‚’å†é–‹ã—ã¾ã™...ã€

ï¼ˆåˆ†æå®Œäº†ï¼‰

AI: ã€Œãƒ‡ãƒ¼ã‚¿åˆ†æãŒå®Œäº†ã—ã¾ã—ãŸã€‚çµæœã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™...ã€
```

---

**ğŸ¤– ã“ã‚Œã§AIãŒè‡ªã‚‰å¿…è¦ãªé“å…·ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ã‚’æƒãˆã¦æˆé•·ã—ã¦ã„ãã€Œè‡ªå·±å®Œçµå‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ãŒå®Œæˆã—ã¾ã—ãŸï¼**

**æ¨å¥¨**: `start_dynamic.bat` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚æœ€ã‚‚é€²åŒ–ã—ãŸè‡ªå·±å®Œçµå‹AIç’°å¢ƒã§ã™ã€‚
